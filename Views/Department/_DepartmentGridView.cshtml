@model IEnumerable<css.Data.Models.tbl_Departments>


<div class="widget-head">
    <div class="tools"><span class="icon s7-upload"></span><span class="icon s7-edit"></span><span class="icon s7-close"></span></div>
    <div class="title">Departments List</div>
    <table id="CompanyTable" class="table table-striped table-hover table-fw-widget" style="width: 100% !important;">
        <thead>
            <tr>
                <th>Id</th>
                <th>Department Name</th>
                <th>Email</th>
                <th>Edit</th>
                <th>Delete</th>

            </tr>
        </thead>
        <tbody>

            @if (Model != null)
            {
                var rowIndex = 1;
                var count = 1;
                foreach (var Depart in Model)
                {

                    var className = "";


                    if (count == 1)
                    {
                        className = "odd";
                        count = 2;
                    }
                    else
                    {
                        className = "even";
                        count = 1;
                    }

            <tr class=@className>
                <td name="Id-@Depart.DepartmentID">@Depart.DepartmentID</td>
                <td name="DepartName-@Depart.DepartmentID">@Depart.Dep_Name</td>
                <td name="Email-@Depart.DepartmentID">@Depart.Email</td>
                <td>
                    <button type="button" data-id="@Depart.DepartmentID" onclick="EditDepartment(this)" class="btn btn-space btn-primary btn-xs"><i class="icon s7-info"></i></button>
                </td>
                <td>
                    <button type="button" data-id="@Depart.DepartmentID" onclick="LoadDeleteDepartModal(this)" class="btn btn-space btn-primary btn-xs"><i class="icon s7-trash"></i></button>
                </td>

                @{
                    rowIndex = rowIndex + 1;
                }
            </tr>
                }
            }

        </tbody>
    </table>

</div>

<script>
    function EditDepartment(x) {
        var y = $(x).closest("tr");
        var row = $(x).attr("data-id");

        var x = y.find("td:eq(1)").text().split('-')[0];

        $('#hdndepartmentID').val(y.find("td:eq(0)").text());
        $('#Departmentnm').val(y.find("td:eq(1)").text());
        $('#Departmentemail').val(y.find("td:eq(2)").text());   

        $('#tabUL a[href="#tabcc-3"]').trigger('click');


        //$('#tabcc-4').removeClass("active");
        //$('#tabcc-3').addClass("active");
        //$('#tabcc-4li').removeClass("active");
        //$('#tabcc-3li').addClass("active");

            }
</script>
